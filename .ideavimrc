" ******************** Editing *****************************
let mapleader="\<space>"
set scrolloff=4
set history=1000
set ideajoin
set idearefactormode=keep
map <leader>ff <Action>(Find)
map <leader>fr <Action>(Replace)
map <leader>re <Action>(RenameElement)
nnoremap <leader>d :action EditorDuplicate<CR>
map t :action EditorSelectWord<CR>
vnoremap < <gv
vnoremap > >gv
vnoremap K :m '<-2<CR>gv=gv
vnoremap J :m '>+1<CR>gv=gv


" ******************** Search ********************************
set incsearch
set hlsearch
set ic
set smartcase
vnoremap \ /<C-R>"<CR>
noremap <Esc> :nohlsearch<CR>


" ******************** Clipboard ********************************
noremap <leader>xc mo ggVGy'o
nnoremap <leader>xC ggVG"+y
nnoremap <leader>xd ggVGd
nnoremap <leader>xD ggVG"+d
nnoremap <leader>pp "+p
nnoremap <leader>yy "+y$
vnoremap <leader>y  "+y
vnoremap <leader>xP "_dP


" ******************** Tabs ********************************
map <leader>qq <Action>(CloseContent)
map <leader>qa <Action>(CloseAllEditors)
map <leader>qo <Action>(CloseAllEditorsButActive)
map <leader>= <Action>(MoveTabRight)
map <leader>- <Action>(MoveTabDown)


" ******************** Debugging  **************************
map <leader>rd <Action>(Debug)
map <leader>rr <Action>(Run)
map <leader>b <Action>(ToggleLineBreakpoint)


" ******************** File management *********************
set NERDTree
map <leader>nf <Action>(NewFile)
map <leader>nd <Action>(NewDir)
map <leader>rf <Action>(RenameFile)
map <leader>cf <Action>(CopyFileName)
map <leader>cp <Action>(CopyContentRootPath)
map <leader>ss <Action>(SelectInProjectView)


" ******************** Navigation **************************
map <leader>gl <Action>(GotoLine)
map <leader>gl <Action>(GotoClass)
map <leader>gf <Action>(GotoFile)
map <leader>gs <Action>(GotoSymbol)
map <leader>ga <Action>(GotoAction)
nmap [[ <Action>(MethodUp)
nmap ]] <Action>(MethodDown)
nmap <C-p> <Action>(PreviousTab)
nmap <C-n> <Action>(NextTab)
" nnoremap <leader>1 1gt


" ******************** IDE *********************************
" Ctrl + Alt  \ = Toggle IdeaVim
" Alt + F11 = Open in terminal (Current file)
map <leader>ri <Action>(RestartIde)
noremap <leader>cc :edit ~/.ideavimrc<CR>
noremap <leader>cs :source ~/.ideavimrc<CR>
nnoremap <leader>tw :!start cmd /K "cd /d %:p:h"<CR>


" ******************** Git  *********************************
nmap <leader>Gb <Action>(Git.Branches)
map <leader>Gp <Action>(Vcs.Push)
nmap <leader>Gm <Action>(VcsGroups)
nmap <leader>Gg <Action>(CheckinProject)
nmap <leader>Gu <Action>(Vcs.UpdateProject)


" ******************** Plugins *****************************
" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins
Plug 'machakann/vim-highlightedyank'
" Commentary plugin
" Plug 'tpope/vim-commentary'
